{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
  /* Estilos gerais */
  .menu-button {
    position: fixed;
    top: 10px;
    left: 10px;
    background-color: #2d2d2d;
    color: white;
    border: none;
    padding: 10px 15px;
    font-size: 24px;
    cursor: pointer;
    border-radius: 5px;
    z-index: 1000; /* Sempre acima de tudo */
  }

  /* Sidebar oculta por padrão */
  .sidebar {
    position: fixed;
    top: 0;
    left: -250px;
    width: 250px;
    height: 100vh;
    background-color: #222;
    color: white;
    transition: left 0.3s ease-in-out;
    padding-top: 60px;
    box-shadow: 2px 0px 5px rgba(0, 0, 0, 0.5);
    z-index: 999;
  }

  /* Quando a sidebar estiver ativa */
  .sidebar.active {
    left: 0;
  }

  .sidebar ul {
    list-style-type: none;
    padding: 0;
  }

  .sidebar ul li {
    padding: 10px 20px;
  }

  .sidebar ul li a {
    color: white;
    text-decoration: none;
    display: block;
    transition: background 0.3s;
  }

  .sidebar ul li a:hover {
    background: #444;
  }

  .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    cursor: pointer;
  }

  /* Overlay escuro quando sidebar estiver ativa */
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: rgba(0, 0, 0, 0.5);
    display: none;
    z-index: 998;
  }

  .overlay.active {
    display: block;
  }
</style>

<!-- Botão do menu sempre visível -->
<button class="menu-button" onclick="openSidebar()">☰</button>

<!-- Sidebar lateral -->
<div id="sidebar" class="sidebar">
  <span class="close-btn" onclick="closeSidebar()">×</span>
  <ul>
    <li><a href="{% url 'home' %}">Home</a></li>
    {% if perms.pparada.add_paradasegura_ponto %}
    <li><a href="{% url 'estoque'%}">Estoque</a></li>
    {% endif %}
    {% if perms.empresas.add_empresasmodels %}
    <li><a href="{% url 'mapa2'%}">Operaçoes</a></li>
    <li><a href="{% url 'parada_segura_list'%}">Relatorios</a></li>
    <li><a href="{% url 'criar_transportador' %}">Cadastro Transportadora</a></li>
    <li><a href="{% url 'lista_trasportadores'%}">Lista de Transportadoras</a></li>
    <li><a href="{% url 'criar_empresa'%}">Cadastro de Empresas</a></li>
    <li><a href="{% url 'listar_empresa'%}">Lista de Empresas</a></li>
    <li><a href="{% url 'paradaseguralist2'%}">Paradas</a></li>
    <li><a href="{% url 'trafegus_veiculo'%}">Eventos</a></li>
    {% endif %}
    {% if perms.pparada.add_paradasegura %}
    <li><a href="{% url 'paradaseguralist'%}">Paradas</a></li>
    <li><a href="{% url 'paradaseguraform'%}">Formulario de Parada</a></li>
    <li><a href="{% url 'historico_parada'%}">Historico de Parada</a></li>
    <li><a href="{% url 'passagemCreateView'%}">Passagem de Serviço</a></li>
    <li><a href="{% url 'historico_passagem'%}">Historico de Passagens</a></li>
    <li><a href="{% url 'paradaseguralist'%}">Lista de Paradas</a></li>
    <li><a href="{% url 'mapa'%}">Mapa</a></li>
    <li><a href="{% url 'ponto_create'%}">Registro de Ponto</a></li>
    {% endif %}
  </ul>
</div>

<!-- Overlay para escurecer fundo quando aberto -->
<div id="overlay" class="overlay" onclick="closeSidebar()"></div>

<!-- Script para abrir e fechar a Sidebar -->
<script>
  function openSidebar() {
    document.getElementById("sidebar").classList.add("active");
    document.getElementById("overlay").classList.add("active");
  }

  function closeSidebar() {
    document.getElementById("sidebar").classList.remove("active");
    document.getElementById("overlay").classList.remove("active");
  }
</script>
{% endblock content %}
