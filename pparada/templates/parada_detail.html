{% extends 'base.html' %}

{% block content %}
<div class="container mt-5 detalhe-parada">
  <div class="card">
    <div class="card-body">
      <h2 class="titulo">Detalhes da Parada Segura</h2>
      <h5 class="text-muted mb-4">{{ parada.embarcador }}</h5>

      <div class="row">
        <div class="col-md-6 mb-2"><strong>ID:</strong> {{ parada.id }}</div>
        <div class="col-md-6 mb-2"><strong>Transportador:</strong> {{ parada.transportador }}</div>
        <div class="col-md-6 mb-2"><strong>Motorista:</strong> {{ parada.nome_motorista }}</div>
        <div class="col-md-6 mb-2"><strong>Placa Cavalo:</strong> {{ parada.placa_cavalo }}</div>
        <div class="col-md-6 mb-2"><strong>Placa Carreta:</strong> {{ parada.placa_carreta }}</div>
        <div class="col-md-6 mb-2"><strong>Nome do Posto:</strong> {{ parada.get_tipo_posto_display }}</div>
        <div class="col-md-6 mb-2"><strong>Iscas:</strong> {{ parada.id_rastreador }}</div>
        <div class="col-md-6 mb-2"><strong>Cadeados:</strong> {{ parada.id_cadeado }}</div>
        <div class="col-md-6 mb-2"><strong>Data de Criação:</strong> {{ parada.data_criacao|date:"d/m/Y" }}</div>
      </div>

      <hr class="my-4">

      <h5 class="mb-3">Imagens da Parada</h5>
      <div class="row g-3">

        {% if parada.foto_cavalo %}
          <div class="col-md-4 text-center">
            <div class="img-box">
              <p class="img-title">Foto do Cavalo</p>
              <img src="{{ parada.foto_cavalo.url }}" class="img-fluid rounded shadow-sm">
            </div>
          </div>
        {% endif %}

        {% if parada.foto_documento_cavalo %}
          <div class="col-md-4 text-center">
            <div class="img-box">
              <p class="img-title">Documento Cavalo</p>
              <img src="{{ parada.foto_documento_cavalo.url }}" class="img-fluid rounded shadow-sm">
            </div>
          </div>
        {% endif %}

        {% if parada.foto_carreta %}
          <div class="col-md-4 text-center">
            <div class="img-box">
              <p class="img-title">Foto da Carreta</p>
              <img src="{{ parada.foto_carreta.url }}" class="img-fluid rounded shadow-sm">
            </div>
          </div>
        {% endif %}

        {% if parada.foto_carreta_documento %}
          <div class="col-md-4 text-center">
            <div class="img-box">
              <p class="img-title">Documento Carreta</p>
              <img src="{{ parada.foto_carreta_documento.url }}" class="img-fluid rounded shadow-sm">
            </div>
          </div>
        {% endif %}

        {% if parada.cnh %}
          <div class="col-md-4 text-center">
            <div class="img-box">
              <p class="img-title">CNH</p>
              <img src="{{ parada.cnh.url }}" class="img-fluid rounded shadow-sm">
            </div>
          </div>
        {% endif %}

      </div>

      <div class="mt-4 text-center">
        <a href="{% url 'paradaseguralist' %}" class="btn btn-secondary">← Voltar para a Lista</a>
      </div>
    </div>
  </div>
</div>

<!-- CSS embutido -->
<style>
.detalhe-parada {
  max-height: 85vh;
  overflow-y: auto;
  padding-bottom: 40px;
}

.titulo {
  font-size: 1.8rem;
  font-weight: 700;
  color: #333;
  border-bottom: 2px solid #F1C46B;
  padding-bottom: 10px;
  margin-bottom: 20px;
}

.card {
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  border-radius: 12px;
}

.card-body {
  padding: 30px;
}

.img-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 16px;
}

.img-title {
  font-weight: 600;
  font-size: 14px;
  color: #333;
  margin-bottom: 6px;
  display: block;
  text-align: center;
  min-height: 20px;
}

img.img-fluid {
  max-height: 180px;
  object-fit: cover;
  width: 100%;
  border: 1px solid #ccc;
  transition: transform 0.3s ease;
}

img.img-fluid:hover {
  transform: scale(1.03);
}

@media (max-width: 768px) {
  .card-body {
    padding: 20px;
  }

  .titulo {
    font-size: 1.4rem;
  }

  .img-title {
    font-size: 13px;
  }

  img.img-fluid {
    max-height: 150px;
  }
}
</style>
{% endblock %}
